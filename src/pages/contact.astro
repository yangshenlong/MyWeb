---
import BaseHead from '../components/BaseHead.astro';
import HeaderArchitectural from '../components/HeaderArchitectural.astro';
import BackToTop from '../components/BackToTop.astro';
import ScrollProgress from '../components/ScrollProgress.astro';
import SkipLink from '../components/SkipLink.astro';
import { SITE_TITLE, SITE_DESCRIPTION, AUTHOR } from '../consts';
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={`Contact | ${SITE_TITLE}`} description={SITE_DESCRIPTION} />
	</head>

	<body>
		<ScrollProgress />
		<SkipLink />
		<HeaderArchitectural />

		<!-- Page Header -->
		<section class="page-header-section">
			<div class="header-container">
				<div class="header-top">
					<div class="header-label">
						<span class="label-line"></span>
						<span class="label-text">联系我</span>
					</div>
					<h1 class="page-title">让我们合作</h1>
				</div>
				<div class="header-bottom">
					<p class="page-description">
						有项目想法或想要合作？欢迎随时联系我讨论您的需求。
					</p>
				</div>
			</div>
			<div class="header-decoration">
				<span class="deco-number">05</span>
			</div>
		</section>

		<!-- Contact Content -->
		<section class="contact-section">
			<div class="contact-container">
				<!-- Contact Info -->
				<div class="contact-info">
					<div class="contact-section-title">联系方式</div>
					<div class="contact-links-simple">
						<a href="mailto:xgg000303@163.com" class="contact-link-simple" data-copy="xgg000303@163.com">
							<span class="contact-label-simple">邮箱</span>
							<span class="contact-value-simple">xgg000303@163.com</span>
						</a>
						<div class="contact-link-simple" data-copy="2427900391">
							<span class="contact-label-simple">QQ</span>
							<span class="contact-value-simple">2427900391</span>
						</div>
						<div class="contact-link-simple" data-copy="18365912171">
							<span class="contact-label-simple">微信</span>
							<span class="contact-value-simple">18365912171</span>
						</div>
						<div class="contact-link-simple" data-copy="+86 18365912171">
							<span class="contact-label-simple">手机</span>
							<span class="contact-value-simple">+86 18365912171</span>
						</div>
					</div>

					<div class="contact-section-title">社交媒体</div>
					<div class="social-links-simple">
						<a href="https://github.com/yangshenlong" target="_blank" class="social-link-simple">
							<span class="social-label">GitHub</span>
							<span class="social-arrow">→</span>
						</a>
						<a href="#" target="_blank" class="social-link-simple">
							<span class="social-label">Bilibili</span>
							<span class="social-arrow">→</span>
						</a>
						<a href="#" target="_blank" class="social-link-simple">
							<span class="social-label">知乎</span>
							<span class="social-arrow">→</span>
						</a>
					</div>
				</div>

				<!-- Contact Form -->
				<div class="contact-form-wrapper">
					<div class="form-header">
						<span class="form-number">03</span>
						<h3 class="form-title">发送消息</h3>
					</div>
					<form class="contact-form" id="contactForm">
						<div class="form-group">
							<label for="name" class="form-label">姓名</label>
							<input
								type="text"
								id="name"
								name="name"
								class="form-input"
								placeholder="您的姓名"
								required
							/>
						</div>
						<div class="form-group">
							<label for="email" class="form-label">邮箱</label>
							<input
								type="email"
								id="email"
								name="email"
								class="form-input"
								placeholder="your@email.com"
								required
							/>
						</div>
						<div class="form-group">
							<label for="subject" class="form-label">主题</label>
							<input
								type="text"
								id="subject"
								name="subject"
								class="form-input"
								placeholder="Project inquiry"
								required
							/>
						</div>
						<div class="form-group">
							<label for="message" class="form-label">消息</label>
							<textarea
								id="message"
								name="message"
								class="form-textarea"
								placeholder="Tell me about your project..."
								rows="6"
								required
							></textarea>
						</div>
						<button type="submit" class="submit-button">
							<span class="button-text">发送消息</span>
							<span class="button-arrow">→</span>
						</button>
					</form>
				</div>
			</div>
		</section>

		<!-- Footer -->
		<footer class="arch-footer">
			<div class="footer-content">
				<div class="footer-left">
					<span class="footer-text">© 2024 杨慎龙</span>
					<span class="footer-divider">·</span>
					<span class="footer-text">Technical Artist</span>
				</div>
				<div class="footer-right">
					<a href="https://github.com/yangshenlong" target="_blank" class="footer-link">GitHub</a>
					<a href="#" target="_blank" class="footer-link">Bilibili</a>
					<a href="#" target="_blank" class="footer-link">知乎</a>
				</div>
			</div>
		</footer>

		<BackToTop />

		<div class="copy-toast" id="copyToast">已复制</div>

		<script>
			// 点击复制功能
			const contactLinks = document.querySelectorAll('.contact-link-simple');
			const toast = document.getElementById('copyToast');

			contactLinks.forEach(link => {
				link.addEventListener('click', async (e) => {
					// 对于邮箱链接，只在用户按住 Ctrl/Cmd 时才打开邮件客户端
					if (link.tagName === 'A' && !e.ctrlKey && !e.metaKey) {
						e.preventDefault();
					} else if (link.tagName === 'A' && (e.ctrlKey || e.metaKey)) {
						return; // 允许默认的邮件客户端打开
					}

					const textToCopy = link.getAttribute('data-copy');
					if (textToCopy) {
						try {
							await navigator.clipboard.writeText(textToCopy);
							// 显示复制提示
							toast.classList.add('show');
							setTimeout(() => {
								toast.classList.remove('show');
							}, 1500);
						} catch (err) {
							console.error('复制失败:', err);
						}
					}
				});
			});
		</script>

		<style>
			.page-header-section {
				padding: 180px 4em 6em;
				background: var(--color-bg-primary);
				position: relative;
			}

			.header-container {
				max-width: 1200px;
				margin: 0 auto;
				display: grid;
				grid-template-columns: 1fr auto;
				gap: 4em;
				align-items: center;
			}

			.header-top {
				display: flex;
				flex-direction: column;
				gap: 0.5em;
			}

			.header-label {
				display: flex;
				align-items: center;
				gap: 1em;
			}

			.label-line {
				width: 30px;
				height: 1px;
				background: rgba(255, 255, 255, 0.2);
			}

			.label-text {
				font-size: 0.7em;
				letter-spacing: 0.3em;
				text-transform: uppercase;
				color: rgba(255, 255, 255, 0.4);
				font-family: 'Space Mono', monospace;
			}

			.page-title {
				font-size: clamp(2.5em, 6vw, 4em);
				font-weight: 200;
				letter-spacing: -0.02em;
				line-height: 1.1;
				margin: 0;
			}

			.header-bottom {
				max-width: 500px;
			}

			.page-description {
				font-size: 1.1em;
				line-height: 1.8;
				color: var(--color-text-tertiary);
				margin: 0;
			}

			.header-decoration {
				position: relative;
			}

			.deco-number {
				font-size: 6em;
				font-weight: 100;
				color: rgba(255, 255, 255, 0.03);
				font-family: 'Space Mono', monospace;
				line-height: 1;
			}

			/* Contact Section */
			.contact-section {
				padding: 6em 4em 8em;
				background: var(--color-bg-primary);
			}

			.contact-container {
				max-width: 1200px;
				margin: 0 auto;
				display: grid;
				grid-template-columns: 1fr;
				gap: 4em;
				align-items: start;
			}

			/* Contact Info */
			.contact-info {
				background: rgba(255, 255, 255, 0.02);
				backdrop-filter: blur(var(--glass-blur));
				border: 1px solid var(--border-subtle);
				border-radius: var(--radius-xl);
				padding: 2.5em;
				transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
				position: relative;
				overflow: hidden;
			}

			.contact-info:hover {
				transform: translateY(-4px);
				border-color: var(--border-hover);
				box-shadow:
					0 12px 40px rgba(0, 0, 0, 0.3),
					0 4px 16px rgba(99, 102, 241, 0.15);
			}

			.contact-info::before {
				content: '';
				position: absolute;
				inset: 0;
				background: linear-gradient(
					45deg,
					transparent 30%,
					rgba(255, 255, 255, 0.03) 50%,
					transparent 70%
				);
				animation: shimmer 4s ease-in-out infinite;
			}

			@keyframes shimmer {
				0%, 100% { transform: translateX(-100%); }
				50% { transform: translateX(100%); }
			}

			.contact-section-title {
				display: flex;
				align-items: center;
				gap: 0.75em;
				margin-bottom: 2em;
				padding-bottom: 1em;
				border-bottom: 1px solid var(--border-subtle);
			}

			.contact-title-icon {
				display: flex;
				align-items: center;
				justify-content: center;
				width: 32px;
				height: 32px;
				background: rgba(255, 255, 255, 0.03);
				border: 1px solid var(--border-standard);
				border-radius: 6px;
				color: rgba(255, 255, 255, 0.6);
				font-size: 1em;
			}

			.contact-title-text {
				font-size: 1.2em;
				font-weight: 500;
				color: var(--color-text-primary);
				letter-spacing: 0.02em;
			}

			.contact-container {
				max-width: 1200px;
				margin: 0 auto;
				display: grid;
				grid-template-columns: 1fr 1.5fr;
				gap: 3em;
			}

			.contact-info {
				display: flex;
				flex-direction: column;
				gap: 3em;
			}

			.contact-section-title {
				font-size: 0.7em;
				letter-spacing: 0.3em;
				text-transform: uppercase;
				color: rgba(255, 255, 255, 0.4);
				margin-bottom: 1.5em;
				font-family: 'Space Mono', monospace;
			}

			.contact-links-simple {
				display: flex;
				flex-direction: column;
				gap: 1em;
			}

			.contact-link-simple {
				display: flex;
				align-items: center;
				gap: 1em;
				cursor: pointer;
				transition: all 0.3s ease;
			}

			.contact-link-simple:hover {
				transform: translateX(5px);
			}

			.contact-label-simple {
				font-size: 0.75em;
				letter-spacing: 0.15em;
				text-transform: uppercase;
				color: rgba(255, 255, 255, 0.4);
				font-family: 'Space Mono', monospace;
				min-width: 3em;
			}

			.contact-value-simple {
				font-size: 0.95em;
				color: rgba(255, 255, 255, 0.8);
				font-family: 'Space Mono', monospace;
				transition: color 0.3s ease;
			}

			.contact-link-simple:hover .contact-value-simple {
				color: rgba(255, 255, 255, 1);
			}

			.social-links-simple {
				display: flex;
				flex-direction: column;
				gap: 1em;
			}

			.social-link-simple {
				display: flex;
				align-items: center;
				justify-content: space-between;
				padding: 0.75em 0;
				color: rgba(255, 255, 255, 0.7);
				transition: all 0.3s ease;
			}

			.social-link-simple:hover {
				color: rgba(255, 255, 255, 1);
				transform: translateX(5px);
			}

			.social-label {
				font-size: 0.9em;
			}

			.social-arrow {
				opacity: 0;
				transition: opacity 0.3s ease, transform 0.3s ease;
			}

			.social-link-simple:hover .social-arrow {
				opacity: 1;
				transform: translateX(5px);
			}

			.copy-toast {
				position: fixed;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				padding: 1em 2em;
				background: var(--color-text-primary);
				color: var(--color-bg-primary);
				font-size: 0.9em;
				font-weight: 500;
				letter-spacing: 0.1em;
				border-radius: 2px;
				opacity: 0;
				pointer-events: none;
				transition: all 0.3s ease;
				z-index: 1000;
			}

			.copy-toast.show {
				opacity: 1;
			}

			/* Form */
			.contact-form-wrapper {
				display: flex;
				flex-direction: column;
				gap: 2em;
			}

			.form-header {
				display: flex;
				align-items: center;
				gap: 1em;
			}

			.form-number {
				font-size: 0.7em;
				font-weight: 300;
				letter-spacing: 0.2em;
				color: var(--color-text-muted);
				font-family: 'Space Mono', monospace;
			}

			.form-title {
				font-size: 1.2em;
				font-weight: 400;
				color: rgba(255, 255, 255, 0.9);
				margin: 0;
			}

			.contact-form {
				display: flex;
				flex-direction: column;
				gap: 1.5em;
			}

			.form-group {
				display: flex;
				flex-direction: column;
				gap: 0.5em;
			}

			.form-label {
				font-size: 0.75em;
				letter-spacing: 0.15em;
				text-transform: uppercase;
				color: var(--color-text-tertiary);
			}

			.form-input,
			.form-textarea {
				width: 100%;
				padding: 1em;
				background: rgba(255, 255, 255, 0.03);
				border: 1px solid var(--border-standard);
				color: rgba(255, 255, 255, 0.9);
				font-size: 0.95em;
				transition: all 0.3s ease;
				resize: none;
			}

			.form-input:focus,
			.form-textarea:focus {
				outline: none;
				background: rgba(255, 255, 255, var(--glass-opacity-bg-hover));
				border-color: rgba(255, 255, 255, 0.15);
			}

			.form-input::placeholder,
			.form-textarea::placeholder {
				color: var(--color-text-muted);
			}

			.submit-button {
				display: inline-flex;
				align-items: center;
				justify-content: center;
				gap: 0.75em;
				padding: 1.25em 2.5em;
				background: rgba(255, 255, 255, var(--glass-opacity-bg-hover));
				border: 1px solid rgba(255, 255, 255, 0.15);
				color: rgba(255, 255, 255, 0.9);
				font-size: 0.85em;
				letter-spacing: 0.2em;
				text-transform: uppercase;
				cursor: pointer;
				transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
			}

			.submit-button:hover {
				background: var(--border-hover);
				border-color: rgba(255, 255, 255, 0.25);
				transform: translateY(-2px);
			}

			.button-arrow {
				transition: transform 0.3s ease;
			}

			.submit-button:hover .button-arrow {
				transform: translateX(5px);
			}

			/* Footer styles moved to Footer.astro component */


			.footer-content {
				max-width: 1200px;
				margin: 0 auto;
				display: flex;
				justify-content: space-between;
				align-items: center;
			}

			.footer-left {
				display: flex;
				align-items: center;
				gap: 1em;
			}

			.footer-text {
				font-size: 0.85em;
				color: rgba(255, 255, 255, 0.4);
			}

			.footer-divider {
				color: rgba(255, 255, 255, 0.2);
			}

			.footer-right {
				display: flex;
				gap: 2em;
			}

			.footer-link {
				font-size: 0.85em;
				color: var(--color-text-tertiary);
				transition: color 0.3s ease;
			}

			.footer-link:hover {
				color: rgba(255, 255, 255, 0.8);
			}

			/* Responsive */
			@media (max-width: 1024px) {
				.page-header-section,
				.contact-section {
					padding-left: 2em;
					padding-right: 2em;
				}

				.header-container {
					grid-template-columns: 1fr;
					gap: 2em;
				}

				.header-decoration {
					align-self: flex-end;
				}

				.deco-number {
					font-size: 4em;
				}

				.contact-container {
					grid-template-columns: 1fr;
				}
			}

			@media (max-width: 768px) {
				.footer-content {
					flex-direction: column;
					gap: 1.5em;
					text-align: center;
				}

				.footer-left {
					flex-direction: column;
					gap: 0.5em;
				}

				.footer-right {
					gap: 1.5em;
				}
			}
		</style>

		<script>
			// Form handling
			const form = document.getElementById('contactForm');
			if (form) {
				form.addEventListener('submit', (e) => {
					e.preventDefault();

					// Get form data
					const formData = new FormData(form);
					const data = Object.fromEntries(formData);

					// Here you would typically send the form data to a server
					// For now, just show a success message
					alert('Thank you for your message! This is a demo form.');
					form.reset();
				});
			}
		</script>
	</body>
</html>

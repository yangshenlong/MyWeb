---
/**
 * 建筑风格项目网格展示
 * 精致的网格布局、动效、悬停效果
 */

interface Project {
	title: string;
	category: string;
	year: string;
	description: string;
	tags: string[];
	image?: string;
	link?: string;
}

interface Props {
	projects: Project[];
}

const { projects } = Astro.props;
---

<section class="project-grid-section">
	<div class="section-header">
		<div class="header-number">01</div>
		<div class="header-content">
			<h2 class="header-title">精选作品</h2>
			<p class="header-subtitle">精选项目作品集</p>
		</div>
		<div class="header-line"></div>
	</div>

	<div class="projects-grid">
		{projects.map((project, index) => (
			<a
				href={project.link || '#'}
				class="project-item"
				style={`--delay: ${index * 100}ms`}
				aria-label={`查看项目: ${project.title}`}
			>
				<div class="project-inner">
					<!-- Background -->
					<div class="project-background">
						<div class="project-image-placeholder">
							<span class="project-number">0{index + 1}</span>
						</div>
						<div class="project-gradient"></div>
					</div>

					<!-- Content -->
					<div class="project-content">
						<div class="project-meta">
							<span class="project-category">{project.category}</span>
							<span class="project-year">{project.year}</span>
						</div>
						<h3 class="project-title">{project.title}</h3>
						<p class="project-description">{project.description}</p>
						<div class="project-tags">
							{project.tags.map(tag => (
								<span class="tag">{tag}</span>
							))}
						</div>
					</div>

					<!-- Hover Border -->
					<div class="project-border"></div>

					<!-- Corner Accents -->
					<div class="corner-accent top-left"></div>
					<div class="corner-accent bottom-right"></div>
				</div>
			</a>
		))}
	</div>
</section>

<style>
	.project-grid-section {
		padding: 8em 4em;
		background: #050505;
		position: relative;
	}

	/* Section Header */
	.section-header {
		display: grid;
		grid-template-columns: auto 1fr auto;
		gap: 2em;
		align-items: center;
		margin-bottom: 4em;
	}

	.header-number {
		font-size: 0.75em;
		font-weight: 200;
		letter-spacing: 0.2em;
		color: rgba(255, 255, 255, 0.3);
		font-family: 'Courier New', monospace;
	}

	.header-content {
		display: flex;
		flex-direction: column;
		gap: 0.5em;
	}

	.header-title {
		font-size: clamp(2em, 5vw, 4em);
		font-weight: 200;
		letter-spacing: -0.02em;
		color: rgba(255, 255, 255, 0.95);
		margin: 0;
		line-height: 1.1;
	}

	.header-subtitle {
		font-size: 0.85em;
		letter-spacing: 0.2em;
		text-transform: uppercase;
		color: rgba(255, 255, 255, 0.4);
		margin: 0;
	}

	.header-line {
		height: 50px;
		width: 1px;
		background: rgba(255, 255, 255, 0.1);
	}

	/* Projects Grid */
	.projects-grid {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
		gap: var(--grid-gap, 2em);
	}

	.project-item {
		display: block;
		text-decoration: none;
		position: relative;
		animation: fadeInUp 0.6s ease-out backwards;
		animation-delay: var(--delay);
	}

	.project-inner {
		position: relative;
		background: rgba(255, 255, 255, 0.015);
		border: 1px solid rgba(255, 255, 255, 0.05);
		overflow: hidden;
		transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.project-item:hover .project-inner {
		background: rgba(255, 255, 255, 0.025);
		border-color: rgba(255, 255, 255, 0.1);
		transform: translateY(-12px);
		box-shadow:
			0 35px 70px rgba(0, 0, 0, 0.6),
			0 0 150px rgba(255, 255, 255, 0.03);
	}

	/* Background */
	.project-background {
		position: relative;
		height: 320px;
		overflow: hidden;
	}

	.project-image-placeholder {
		width: 100%;
		height: 100%;
		display: flex;
		align-items: center;
		justify-content: center;
		background: linear-gradient(
			135deg,
			rgba(15, 15, 15, 1) 0%,
			rgba(8, 8, 8, 1) 100%
		);
		position: relative;
	}

	.project-image-placeholder::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background-image:
			linear-gradient(rgba(255, 255, 255, 0.015) 1px, transparent 1px),
			linear-gradient(90deg, rgba(255, 255, 255, 0.015) 1px, transparent 1px);
		background-size: 20px 20px;
		opacity: 0.5;
	}

	.project-number {
		font-size: 8em;
		font-weight: 100;
		color: rgba(255, 255, 255, 0.04);
		font-family: 'Courier New', monospace;
		letter-spacing: -0.05em;
		position: relative;
		z-index: 1;
		transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.project-item:hover .project-number {
		color: rgba(255, 255, 255, 0.08);
		transform: scale(1.05);
		text-shadow: 0 0 60px rgba(255, 255, 255, 0.1);
	}

	.project-gradient {
		position: absolute;
		bottom: 0;
		left: 0;
		right: 0;
		height: 60%;
		background: linear-gradient(
			180deg,
			transparent 0%,
			rgba(5, 5, 5, 0.95) 100%
		);
		transition: all 0.5s ease;
	}

	.project-item:hover .project-gradient {
		height: 35%;
	}

	/* Content */
	.project-content {
		padding: 2em;
		position: relative;
		z-index: 2;
	}

	.project-meta {
		display: flex;
		justify-content: space-between;
		align-items: center;
		margin-bottom: 1em;
	}

	.project-category {
		font-size: 0.7em;
		letter-spacing: 0.2em;
		text-transform: uppercase;
		color: rgba(255, 255, 255, 0.4);
	}

	.project-year {
		font-size: 0.7em;
		letter-spacing: 0.1em;
		color: rgba(255, 255, 255, 0.3);
		font-family: 'Courier New', monospace;
	}

	.project-title {
		font-size: 1.5em;
		font-weight: 300;
		letter-spacing: -0.01em;
		color: rgba(255, 255, 255, 0.9);
		margin: 0 0 0.75em 0;
		line-height: 1.3;
		transition: all 0.3s ease;
	}

	.project-item:hover .project-title {
		color: rgba(255, 255, 255, 1);
		letter-spacing: 0.02em;
	}

	.project-description {
		font-size: 0.9em;
		line-height: 1.7;
		color: rgba(255, 255, 255, 0.45);
		margin: 0 0 1.5em 0;
	}

	.project-tags {
		display: flex;
		flex-wrap: wrap;
		gap: 0.5em;
	}

	.tag {
		font-size: 0.7em;
		letter-spacing: 0.1em;
		padding: 0.4em 1em;
		background: rgba(255, 255, 255, 0.03);
		border: 1px solid rgba(255, 255, 255, 0.06);
		color: rgba(255, 255, 255, 0.5);
		transition: all 0.3s ease;
	}

	.project-item:hover .tag {
		background: rgba(255, 255, 255, 0.06);
		border-color: rgba(255, 255, 255, 0.12);
		color: rgba(255, 255, 255, 0.75);
	}

	/* Border Glow Effect */
	.project-border {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		border: 1px solid transparent;
		pointer-events: none;
		transition: all 0.5s ease;
	}

	.project-item:hover .project-border {
		border-color: rgba(255, 255, 255, 0.08);
	}

	/* Enhanced Corner Accents */
	.corner-accent {
		position: absolute;
		width: 0;
		height: 0;
		border-style: solid;
		border-color: transparent rgba(255, 255, 255, 0.15) transparent transparent;
		transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
		opacity: 0;
	}

	.top-left {
		top: 0;
		left: 0;
		border-width: 24px 0 0 24px;
	}

	.bottom-right {
		bottom: 0;
		right: 0;
		border-width: 0 24px 24px 0;
		border-color: transparent transparent rgba(255, 255, 255, 0.15) transparent;
	}

	.project-item:hover .corner-accent {
		opacity: 1;
	}

	.project-item:hover .top-left {
		border-width: 36px 0 0 36px;
	}

	.project-item:hover .bottom-right {
		border-width: 0 36px 36px 0;
	}

	/* Subtle Light Sweep Effect */
	.project-inner::before {
		content: '';
		position: absolute;
		top: 0;
		left: -100%;
		width: 100%;
		height: 100%;
		background: linear-gradient(
			90deg,
			transparent 0%,
			rgba(255, 255, 255, 0.03) 50%,
			transparent 100%
		);
		transition: left 0.8s ease;
		z-index: 1;
		pointer-events: none;
	}

	.project-item:hover .project-inner::before {
		left: 100%;
	}

	/* Responsive */
	@media (max-width: 1024px) {
		.project-grid-section {
			padding: 6em 2em;
		}

		.projects-grid {
			grid-template-columns: 1fr;
		}

		.section-header {
			grid-template-columns: auto 1fr;
		}

		.header-line {
			display: none;
		}
	}

	@media (max-width: 768px) {
		.header-title {
			font-size: 2em;
		}

		.project-background {
			height: 240px;
		}
	}
</style>
